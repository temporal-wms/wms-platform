# Iceberg Catalog Configuration for Trino
# Connects to Hive Metastore for table metadata
# Connects to MinIO for data storage

connector.name=iceberg

# Catalog type - using Hive Metastore
iceberg.catalog.type=hive_metastore
hive.metastore.uri=thrift://hive-metastore.data-mesh.svc.cluster.local:9083

# File format settings
iceberg.file-format=PARQUET
iceberg.compression-codec=ZSTD

# S3 (MinIO) configuration
fs.native-s3.enabled=true
s3.endpoint=http://minio.data-mesh.svc.cluster.local:9000
s3.path-style-access=true
s3.aws-access-key=datamesh
s3.aws-secret-key=datamesh123456
s3.region=us-east-1

# Performance tuning
iceberg.max-partitions-per-writer=100
iceberg.target-max-file-size=128MB
iceberg.unique-table-location=true

# Split configuration
iceberg.split-manager-threads=4

# Metadata caching
iceberg.metadata.cache-ttl=5m
iceberg.metadata.cache-size=1000
